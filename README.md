# 代码库阅读软件

基于 LLM 进行代码库阅读与理解的应用。

## 1. 概述

随着 LLM 应用的普及，多种 gpt 代码阅读或生成辅助工具应运而生，但与此同时，主流的 gpt 代码辅助工具通常基于代码段或单个文件进行，缺乏对整个仓库的阅读理解能力。但在现实场景中，开发者经常面临学习大型项目源码的需求与压力，代码仓库的复杂度使得新手很难在短时间内了解整个项目的功能划分和总体面貌。为解决这一问题，我们需要一个工具，基于 gpt 帮助我们阅读代码仓库（目录）。

## 2. 功能实现

该工具被设计包含以下功能：

### 2.1 核心功能

1.	询问整个项目（文件夹）说了什么，有哪些文件，大概的功能是想要做什么的
2.	某个项目的子文件夹有哪些文件，某个模块在总文件中的作用是什么
3.	某个文件在这个子文件夹中的作用大概是什么
4.	某个class或者函数、子模块的作用是什么（理论上可以通过vscode解析知道大概有哪些class、函数，比如vscode的大纲）
5.	拥有一个前端，最简单的可以通过gradio实现，但是进一步可以用vscode进行功能的实现，vscode插件可以参考官方教程
6.	每一步的时候能给出不少于三个提问示范（如：这个文件讲了什么？这个文件的核心函数是什么？）

### 2.2 调试功能

> 【注，这个调试功能本质也是一个trace，所以也可以用其他trace方式得到中间变量的数据结构，最后能给gpt就好】

1.	用户进行调试时，记录调试时的变量信息，打包成一个数据结构（给 gpt 让它知道在哪个文件的哪个函数位置执行后这些值做了哪些更新，作为信息补充可以更好的说明这个调试过程大概做了什么）
2.	可以让gpt根据对代码的理解自行决定在哪些地方下断点然后自动调试，记录每个变量值和经过的文件与函数； 帮助理解这个程序最主要的执行流是怎么样的，让 gpt 给出对于这个程序主流程的理解。

> 而且最简单的 我们首先实现这个就好：就是问问题的时候，把所有的文件夹名字，文件名要让gpt知道；有哪些函数不需要让他知道，这个可以用一个检索功能获得。比如我想要a函数，这个函数在A/B的文件夹下，我们只需要用linux或者什么本地查找指令 知道这个函数在哪个文件夹 文件下就好，然后那个时候及时把对应部分的喂给gpt。可以多用vscode 的查询api之类的减少信息压缩的压力。

## 3. 路线图拆解

首先，我们需要实现核心功能

- [ ] 能够用linux命令获取目录下全部文件和文件夹的树关系

**prompt制作：**

- [ ] 能够较好解析单函数的意思
- [ ] 能够较好解释单文件的意思
- [ ] 能够较好压缩单文件的意思
- [ ] 能够较好解释一个文件夹内全部文件的意思（使用提前准备好的文件夹树给出正确的对应内置信息，问什么文件夹给什么树的分支）
- [ ] 能够较好的压缩一个文件夹内作用的意思
- [ ] 尝试根据压缩后的所有文件夹的意思，针对文件树讲解项目做了什么（最小单位是一级目录的文件和文件夹），具体细节可以进一步问xxx文件夹中做了什么，这个文件夹有什么的东西都是最开始的树提供的信息
- [ ] 至少三种提问方式的建议，作为一个选项prompt（内置），就好比说可以提问作用也可以提问调用流也可以提问最重要的核心部分。

实现以上功能后在paddle等仓库进行测试查看效果，如果可以则进行下一步。

**调试信息的引入：**
调试过程会记录一些中间变量，我们需要获取这些中间变量和对应存在的文件文件夹关系，这有助于理解状态机的执行过程，可以直接给出gpt对于这个程序执行原理流程的建议
